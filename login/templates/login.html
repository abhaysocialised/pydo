{% extends "base1.html" %}
{% block title %}Welcome back, Log-in{% endblock %}
{% block body %}
<div class="row">
  <div class="col-1 col-md-2 col-lg-4"></div>
  <div class="col-10 col-md-8 col-lg-4">
    <form class="card my-4 w-100 mx-auto bg-red" method="POST" action="#">
      {% csrf_token %}
      <div class="card-header bg-red text-light text-center">
        <large>Log-in</large>
      </div>
      <div class="text-center form-group text-muted my-1 py-1 px-1">
        <small class="text-center text-light">PyDo the ToDo of future.</small>
      </div>
      <div class="form-group my-1 py-1 px-1">
        <input type="email" class="form-control text-center mx-auto" style="width: 80%;" name="email" id="email"
          value="{{ usr.email }}" aria-describedby="emailHelp" placeholder="Enter email" required>
        <small id="emailError" class="text-danger text-center">{{ emailError }}</small>
      </div>
      <div class="form-group my-1 py-1 px-1">
        <input type="password" class="form-control text-center mx-auto" style="width: 80%;" name="password"
          id="password" value="{{ usr.password }}" placeholder="Enter your Password" required>
        <small id="Error" class="text-danger text-center">{{ Error }}</small>
      </div>
      <button type="submit" class="btn bg-purple my-2 text-light w-50 text-center mx-auto bg-gradred"
        id="submit-btn">Log-in</button>
      <div class="text-center form-group my01 py-1 px-1" style="color: #dddddd">
        Don't have an account? <a href="/" class="text-light">Sign-up</a>.
      </div>
    </form>
  </div>
  <div class="col-1 col-md-2 col-lg-4"></div>
</div>
{% endblock %}
{% block script %}
<script type="text/javascript" charset="utf-8">
  $(document).ready(function () {
    const email = $("#email");
    const btn = $("#submit-btn")
    email.on("input",
      () => {
        if (email.val().match(/([\w\.-]+)@([\w\.-]+)(\.[\w\.]+)/) == null) {
          $("#emailError").text("Please enter valid Email-id.");
          btn.hide()
        } else {
          $("#emailError").text("");
          btn.show()
        }
      });
  })
</script>
{% endblock %}